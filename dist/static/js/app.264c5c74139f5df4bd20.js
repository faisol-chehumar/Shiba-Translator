webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("1mcD"),a=s.n(n),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App"},o,!1,function(t){s("PYT3")},null,null).exports,c=s("/ocq"),d=s("bOdI"),l=s.n(d),h=s("gRE1"),u=s.n(h),p=s("fZjL"),v=s.n(p),g=s("Sazm"),f=s.n(g),m=f.a.initializeApp({apiKey:"AIzaSyAnQd3kIaap9PwMV5M5nSBvmnu7SO7pLS0",authDomain:"shiba-translator.firebaseapp.com",databaseURL:"https://shiba-translator.firebaseio.com",projectId:"shiba-translator",storageBucket:"shiba-translator.appspot.com",messagingSenderId:"130395626012"},"appUser").database(),w=m.ref(),b=f.a.initializeApp({apiKey:"AIzaSyACUpSJp7yDhrmokhODy1VuMpBkH_lNWGw",authDomain:"dictionary-7db9d.firebaseapp.com",databaseURL:"https://dictionary-7db9d.firebaseio.com",projectId:"dictionary-7db9d",storageBucket:"dictionary-7db9d.appspot.com",messagingSenderId:"34224389132"},"appDict").database(),y={name:"TextReview",data:function(){return{appName:"Shiba Translator",veresion:" 0.0.5",descPos:0,descLength:0,descEn:"",descTh:"",wordEn:"",wordTh:"",descDict:"",dictRef:[],descUrl:"",translatedHistory:[]}},firebase:function(){return{descJson:w,dictRef:b.ref()}},watch:{dictRef:{deep:!0,handler:function(t){this.test()}}},methods:{undo:function(){for(var t=0;t<this.translatedHistory[0].length;t++){var e=v()(this.translatedHistory[0][t]),s=u()(this.translatedHistory[0][t]),i=parseInt(e[0]),n=s[0];this.save(i,n)}this.translatedHistory.pop(),this.getPreview()},test:function(){this.dictInit();for(var t=this.dictRef.length,e=this.dictRef,s=t-1;s>=0;s--)this.setDict(e[s][".key"],e[s][".value"])},getData:function(){this.descLength=this.descJson.length;for(var t=0;t<=this.descLength-1;t++)this.save(t,this.descJson[t].English)},getLoad:function(){this.descLength=this.descJson.length;for(var t=0;t<=this.descLength-1;t++)this.descJson[t].Translated=this.descJson[t].Translated},save:function(t,e){var s="/"+t;m.ref(s).update({Translated:e})},getPreview:function(){this.descEn=this.getEnDesc(),this.descTh=this.getThDesc(),this.descUrl=this.getUrl()},getUrl:function(){return"https://thai.webike.net/products/"+this.descJson[this.descPos].Syouhin_Sys_Code+".html"},getEnDesc:function(){return this.descJson[this.descPos].English.split(/<br\s*[\/]?>/gi)},getThDesc:function(){return this.descJson[this.descPos].Translated.split(/<br\s*[\/]?>/gi)},dictInit:function(){this.descDict=new k(1e3)},setDict:function(t,e){this.descDict.insert(t,e)},removeSpecialChar:function(t){return t.replace(/[`~!@#$%^&*()_|+=?;:'",.<>\{\}\[\]\\\/]/gi,"")},translate:function(){var t="",e=[],s=this.removeSpecialChar(this.wordEn);if(""!==s){t=new RegExp(s,"g");for(var i=this.descJson.length-1;i>=0;i--)if(this.descJson[i].Translated.match(s)){e.push(l()({},i,this.descJson[i].Translated));var n=this.descJson[i].Translated.replace(t,this.wordTh);this.descJson[i].Translated=n,this.save(i,this.descJson[i].Translated)}console.log(e),this.translatedHistory.pop(),this.translatedHistory.push(e),this.updateTranslate(),s.split(" ").length<=3&&b.ref(s).set(this.wordTh),this.wordTh=""}},updateTranslate:function(){this.getPreview()},nextDesc:function(){var t=parseInt(this.descPos);t<this.descLength-1&&(this.descPos=t+1,this.getPreview())},prevDesc:function(){this.descPos>0?(this.descPos-=1,this.getPreview()):this.descPos=0},jumpDesc:function(){var t=this.getPreview;this.descPos>0?this.descPos-=1:this.descPos=0,$("#jump-desc").keypress(function(e){13==e.which&&t()})},getDataHilight:function(){var t=this.translate;this.wordTh="";var e="";window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),this.wordEn=e;var s=!1;$("#th-input").focus().on("keydown",function(e){13==e.which&!s&&(e.preventDefault(),e.stopPropagation(),console.log("Enter"),t(),s=!0)})},start:function(){confirm("Are you sure you want to start from begining?")&&(this.getData(),this.getPreview())},load:function(){this.getLoad(),this.getPreview()}}};function k(t){this.buckets=Array(t),this.numBuckets=this.buckets.length}function _(t,e,s){this.key=t,this.value=e,this.next=s||null}k.prototype.hash=function(t){for(var e=0,s=0;s<t.length;s++)e+=t.charCodeAt(s);return e%this.numBuckets},k.prototype.insert=function(t,e){var s=this.hash(t);if(this.buckets[s])if(this.buckets[s].key===t)this.buckets[s].value=e;else{for(var i=this.buckets[s];i.next;){if(i.next.key===t)return void(current.next.value=e);i=i.next}i.next=new _(t,e)}else this.buckets[s]=new _(t,e)},k.prototype.get=function(t){var e=this.hash(t);if(!this.buckets[e])return null;for(var s=this.buckets[e];s;){if(s.key===t)return s.value;s=s.next}},k.prototype.retriveAll=function(){for(var t=[],e=0;e<this.numBuckets;e++)for(var s=this.buckets[e];s;)t.push(s),s=s.next;return allNodes};var x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"logo",staticStyle:{height:"100px",background:"#322c48",color:"#fff","z-index":"1006","padding-bottom":"1rem",position:"fixed",top:"0",width:"100%"}},[i("img",{attrs:{src:s("uY1p"),width:"100rem",alt:"Shiba Translator App"}}),t._v(" "),i("h1",[t._v(t._s(t.appName+t.veresion))]),t._v(" "),i("div",{staticStyle:{display:"inline-block","margin-left":"1.5rem",top:"-3.5rem",position:"relative"}},[i("button",{staticClass:"ui red button",on:{click:t.start}},[t._v("Start")]),t._v(" "),i("button",{staticClass:"ui green button",on:{click:t.load}},[t._v("Load")]),t._v(" "),i("button",{staticClass:"ui green button",on:{click:t.undo}},[t._v("Undo")])]),t._v(" "),i("div",{staticStyle:{position:"absolute",top:"2.5rem",right:"2rem"}},[i("div",{staticClass:"ui input",staticStyle:{width:"5rem",height:"2rem","background-color":"#eee"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.descPos,expression:"descPos"}],staticStyle:{"text-align":"center"},attrs:{id:"jump-desc",type:"text"},domProps:{value:t.descPos},on:{click:t.jumpDesc,input:function(e){e.target.composing||(t.descPos=e.target.value)}}})]),t._v(" "),i("h3",{staticStyle:{display:"inline"}},[t._v(" / "+t._s(t.descLength))])])]),t._v(" "),i("div",{staticClass:"ui vertically divided grid"},[i("div",{staticClass:"middle alignedthree column row",staticStyle:{height:"590px","margin-top":"8rem"}},[i("div",{staticClass:"column"},[i("div",{staticClass:"div",staticStyle:{width:"500px",transform:"translate(0)","margin-top":"2rem","background-color":"#fff",position:"fixed",top:"5.2rem"}},[i("iframe",{attrs:{src:t.descUrl,title:"iframe example 1",width:"500",height:"571"}},[i("p",[t._v("Your browser does not support iframes.")])])])]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"eight wide column",staticStyle:{padding:"2rem"}},t._l(t.descEn,function(e){return i("p",{staticClass:"eng",attrs:{id:"en-content"},on:{click:t.getDataHilight}},[t._v(t._s(e))])}))]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"eight wide right floated column",staticStyle:{padding:"2rem"}},t._l(t.descTh,function(e){return i("p",{staticClass:"th",on:{click:t.getDataHilight}},[t._v(t._s(e))])}))])])]),t._v(" "),i("div",{staticClass:"ui vertical stripe segment",staticStyle:{background:"#322c48",padding:"2rem 0",position:"fixed",bottom:"0",width:"100%"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"twenty wide column"},[i("div",{staticClass:"ui input",staticStyle:{width:"500px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.wordEn,expression:"wordEn"}],attrs:{type:"text",placeholder:"EN Word"},domProps:{value:t.wordEn},on:{input:function(e){e.target.composing||(t.wordEn=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"ui input",staticStyle:{width:"500px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.wordTh,expression:"wordTh"}],attrs:{id:"th-input",type:"text",placeholder:"TH Word"},domProps:{value:t.wordTh},on:{input:function(e){e.target.composing||(t.wordTh=e.target.value)}}})]),t._v(" "),i("button",{staticClass:"ui blue button",on:{click:t.translate}},[t._v("Search and Replace")]),t._v(" "),i("button",{staticClass:"ui button",on:{click:t.prevDesc}},[t._v("Prev")]),t._v(" "),i("button",{staticClass:"ui button",on:{click:t.nextDesc}},[t._v("Next")])])])])])},staticRenderFns:[]};var P=s("VU/8")(y,x,!1,function(t){s("cbM0")},null,null).exports;i.a.use(c.a);var S=new c.a({routes:[{path:"/",name:"TextReview",component:P}]});i.a.config.productionTip=!1,i.a.use(a.a),new i.a({el:"#app",router:S,components:{App:r},template:"<App/>"})},PYT3:function(t,e){},cbM0:function(t,e){},uY1p:function(t,e,s){t.exports=s.p+"static/img/shiba-translator.c0cb199.png"}},["NHnr"]);
//# sourceMappingURL=app.264c5c74139f5df4bd20.js.map